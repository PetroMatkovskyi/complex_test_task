(this.webpackJsonpcomplex_test_task=this.webpackJsonpcomplex_test_task||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(28),s=a.n(r),i=a(34),o=a(58),l=a(182),j=a(97),d=a.n(j),u=a(183),b=a(27),p=a.n(b),O=a(1),v=function(e){var t,a=e.details;return Object(O.jsxs)("div",{className:p.a.container,children:[Object(O.jsx)(l.a,{className:p.a.posterContainer,children:Object(O.jsx)("img",{className:p.a.poster,src:"https://image.tmdb.org/t/p/w300/".concat(a.poster_path||a.backdrop_path),alt:"poster"})}),Object(O.jsxs)(l.a,{className:p.a.content,children:[Object(O.jsxs)(l.a,{className:p.a.title,children:[Object(O.jsxs)(u.a,{align:"center",variant:"h2",children:[a.title,Object(O.jsxs)(u.a,{variant:"span",className:p.a.year,children:["(",a.release_date.match(/^\d{4}/),")"]})]}),Object(O.jsx)(u.a,{align:"center",variant:"h5",className:p.a.tagline,children:a.tagline})]}),Object(O.jsx)(u.a,{align:"left",variant:"p",className:p.a.overview,children:a.overview}),Object(O.jsxs)(l.a,{className:p.a.additionInfo,children:[Object(O.jsx)(l.a,{children:Object(O.jsx)(u.a,{variant:"h6",children:null===(t=a.genres)||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)(u.a,{variant:"span",className:p.a.genreItem,children:[e.name," "]})}))})}),Object(O.jsxs)(l.a,{children:[Object(O.jsxs)(u.a,{align:"left",variant:"h6",children:["Budget: ",a.budget,"$"]}),Object(O.jsx)(u.a,{align:"left",variant:"p"})]})]})]})]})},h=function(e){var t=e.details;return Object(O.jsx)(v,{details:t})},f=a(184),_=a(186),m=a(187),x=a(188),g=a(44),I=a.n(g),y=a(72),E="GET_TOP_MOVIES",S="SET_ACTIVE_ID",N="GET_MOVIE_DETAILS",k="REMOVE_ACTIVE_ID",w="SET_SEARCH_STRING",P="SEARCH_REQUEST",T=function(e){return{type:S,payload:e}},C=a(14),D={activeMovieId:null,movieDetails:null,search:{searchStr:"",respond:{results:[]}},list:{}},M=a(82),A=a.n(M),R=function(e){var t=e.movie,a=Object(i.b)();return Object(O.jsxs)(f.a,{className:A.a.card,onClick:function(){a(T(t.id))},children:[Object(O.jsxs)(_.a,{children:[Object(O.jsx)(m.a,{className:A.a.img,component:"img",src:"https://image.tmdb.org/t/p/w220_and_h330_face/".concat(t.poster_path||t.backdrop_path),alt:t.title}),Object(O.jsx)(x.a,{children:Object(O.jsx)(u.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.title})})]}),Object(O.jsx)(x.a,{children:Object(O.jsx)(u.a,{variant:"p",color:"text.secondary",children:t.release_date})})]})},V=a(95),G=a.n(V),U=function(e){var t,a=e.movies;return Object(O.jsx)(l.a,{className:G.a.list,children:null===(t=a.list.results)||void 0===t?void 0:t.map((function(e){return Object(O.jsx)(o.b,{to:"/".concat(e.id),children:Object(O.jsx)(R,{movie:e})},e.id)}))})},L=function(e){var t=e.movies;return Object(O.jsx)(U,{movies:t})},B=a(174),J=a(179),X=a(180),q=function(e){var t=e.search,a=Object(i.b)(),c=function(e){var n=e.target.value.trim();n&&t.searchStr!==n&&a(function(e){return{type:w,payload:e}}(n))},r=function(e){a(T(e.target.value))};return Object(n.useEffect)((function(){var e;t.searchStr&&a((e=t.searchStr,function(){var t=Object(y.a)(I.a.mark((function t(a){var n,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("2bd3ba3e2068c336072eb0d3a330f683","&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,a({type:P,payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[t.searchStr]),Object(O.jsx)(B.a,{spacing:1,sx:{width:"100%",margin:1},children:Object(O.jsx)(J.a,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,noOptionsText:"No movies",options:t.respond.results,getOptionLabel:function(e){return e.title},renderOption:function(e,t){return Object(O.jsx)(l.a,Object(C.a)(Object(C.a)({component:"li"},Object(C.a)(Object(C.a)({},e),{},{key:t.id,value:t.id})),{},{onClick:r,children:t.title}))},renderInput:function(e){return Object(O.jsx)(X.a,Object(C.a)(Object(C.a)({onChange:c},e),{},{label:"Search movie",InputProps:Object(C.a)(Object(C.a)({},e.InputProps),{},{value:t.searchStr,type:"search"})}))}})})},H=a(85),K=a.n(H),z=function(){var e=Object(i.c)((function(e){return e.movies})),t=Object(i.b)();return Object(n.useEffect)((function(){t(function(){var e=Object(y.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("2bd3ba3e2068c336072eb0d3a330f683","&language=en-US&page=1"));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:E,payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){var a;e.activeMovieId&&t((a=e.activeMovieId,function(){var e=Object(y.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat("2bd3ba3e2068c336072eb0d3a330f683","&language=en-US"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,t({type:N,payload:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e.activeMovieId]),Object(O.jsxs)(o.a,{children:[Object(O.jsxs)(l.a,{className:K.a.infoPage,children:[e.movieDetails&&Object(O.jsx)(o.b,{to:"/",children:Object(O.jsx)(d.a,{className:K.a.backArrow,fontSize:"large",onClick:function(){t({type:k})}})}),Object(O.jsx)(q,{search:e.search})]}),e.movieDetails?Object(O.jsx)(h,{details:e.movieDetails}):Object(O.jsx)(L,{movies:e})]})};a(132);var F=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(z,{})})},Q=a(49),W=Object(Q.b)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(C.a)(Object(C.a)({},e),{},{list:Object(C.a)(Object(C.a)({},e.list),t.payload)});case N:return Object(C.a)(Object(C.a)({},e),{},{movieDetails:t.payload});case S:return Object(C.a)(Object(C.a)({},e),{},{activeMovieId:t.payload});case k:return Object(C.a)(Object(C.a)({},e),{},{activeMovieId:null,movieDetails:null});case w:return Object(C.a)(Object(C.a)({},e),{},{search:Object(C.a)(Object(C.a)({},e.search),{},{searchStr:t.payload})});case P:return Object(C.a)(Object(C.a)({},e),{},{search:Object(C.a)(Object(C.a)({},e.search),{},{respond:t.payload})});default:return e}}}),$=a(98),Y=Object(Q.d)(W,Object(Q.c)(Object(Q.a)($.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(133);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(i.a,{store:Y,children:Object(O.jsx)(F,{})})}),document.getElementById("root"))},27:function(e,t,a){e.exports={container:"InfoPage_container__1b2Tf",posterContainer:"InfoPage_posterContainer__3nElu",poster:"InfoPage_poster__1WqBD",year:"InfoPage_year__FDmqj",tagline:"InfoPage_tagline__GJgV8",content:"InfoPage_content__2tKAb",title:"InfoPage_title__35Jk6",additionInfo:"InfoPage_additionInfo__1_ShR"}},82:function(e,t,a){e.exports={card:"MovieCard_card__2z1IG",img:"MovieCard_img__NGt4E"}},85:function(e,t,a){e.exports={infoPage:"MainPage_infoPage__CkeGH"}},95:function(e,t,a){e.exports={list:"MoviesList_list__3KeKP"}}},[[134,1,2]]]);
//# sourceMappingURL=main.f0783aad.chunk.js.map